<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
        /*Realizar un programa que lea una fecha de nacimiento de la forma día, mes, año, 
        y dé como resultado el número de Tarot. 
        -El programa verificará si la fecha es correcta. 
        -El número de Tarot se calcula sumando los números de la fecha de nacimiento 
        y reduciéndolos a un único dígito. Por ejemplo, si su fecha de nacimiento es 20 de julio de 1984, 
        el número de Tarot sería: 20 + 7+ 1984 = 2011⇒ 2 + 0 + 1 + 1 = 4*/
     
        var fecha = prompt("Introduzca su día de nacimiento con formato dd/mm/yyyy");
        var fechaActual = Date.now();
        
        fecha = fecha.split("/");
        //hay que restarle 1 al mes porque va del 0 al 12
        fecha = new Date(fecha[2],(fecha[1]-1),fecha[0]);
        if (fecha.getTime()>fechaActual) {
            alert("Debe introducir una fecha igual o menor a la actual");
        }
        else{
            alert("La fecha introducida es posterior");
        }

        var dia = fecha[0];
        var mes = fecha[1];
        var anyo = fecha[2];
        sumaFecha = dia + mes + anyo; 
        numTarot = 0;

        do {
            if(sumaFecha == 0){
                sumaFecha = numTarot;
                numTarot = 0;
            }
            
            numTarot+=sumaFecha % 10;
            sumaFecha= parseInt(sumaFecha/10);

        } while (sumaFecha>=1 || numTarot>9);

        document.write("Su número de tarot es: ", numTarot);
    </script>
</body>
</html>